<div class="container">
  <h2>Ajouter un Rendez-vous</h2>

  <!-- Formulaire de saisie : date, heure, type -->
  <form (ngSubmit)="onAddRendezvous()">
    <div class="form-group">
      <label for="date">Date:</label>
      <input type="date" id="date" [(ngModel)]="newRendezvous.date" name="date" class="form-control" required />
    </div>

    <div class="form-group">
      <label for="heure">Heure:</label>
      <input type="time" id="heure" [(ngModel)]="newRendezvous.heure" name="heure" class="form-control" required />
    </div>

    <div class="form-group">
      <label for="type">Type:</label>
      <input type="text" id="type" [(ngModel)]="newRendezvous.type" name="type" class="form-control" required />
    </div>

    <!-- Bouton pour ajouter un rendez-vous -->
    <button type="submit" class="btn btn-primary" [disabled]="addClickCount >= maxRendezvous">
      Ajouter
    </button>
  </form>

  <!-- Affichage des champs supplémentaires lorsque le bouton "Ajouter" a été cliqué -->
  <div *ngFor="let rendezvous of rendezvousList; let i = index" class="mt-3">
    <h4>Rendez-vous {{ i + 1 }}:</h4>
    <div class="form-group">
      <label for="nom">Nom:</label>
      <input type="text" [(ngModel)]="rendezvous.nom" name="nom" class="form-control" required />
    </div>

    <div class="form-group">
      <label for="prenom">Prénom:</label>
      <input type="text" [(ngModel)]="rendezvous.prenom" name="prenom" class="form-control" required />
    </div>

    <div class="form-group">
      <label for="genre">Genre:</label>
      <select [(ngModel)]="rendezvous.genre" name="genre" class="form-control" required>
        <option value="masculin">Masculin</option>
        <option value="feminin">Féminin</option>
      </select>
    </div>

    <div class="form-group">
      <label for="age">Âge:</label>
      <input type="number" [(ngModel)]="rendezvous.age" name="age" class="form-control" required />
    </div>
  </div>

  <!-- Affichage du bouton "Envoyer" après avoir ajouté des rendez-vous -->
  <div *ngIf="rendezvousList.length > 0">
    <button (click)="onSubmit()" class="btn btn-success">Envoyer</button>
  </div>

  <!-- Message d'information lorsque la limite est atteinte -->
  <div *ngIf="addClickCount >= maxRendezvous" class="mt-3 text-danger">
    <p><strong>Limite de 3 rendez-vous atteinte.</strong></p>
  </div>

</div>
